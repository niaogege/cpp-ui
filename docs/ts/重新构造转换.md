---
title: 重新构造做转换
order: 5
group:
  order: 0
  title: TS
  path: /interview/ts
nav:
  order: 3
  title: 'interview'
  path: /interview
---

TypeScript 类型系统支持 3 种可以声明任意类型的变量： type、infer、类型参数。

```ts
type T103 = Promise<number>;
type GetVal<P> = P extends Promise<infer T> ? T : never;
type T104 = GetVal<T103>;
type isTwo<T> = T extends 2 ? true : false;
```

> 数组和元组的区别：数组类型是指任意多个同一类型的元素构成的，比如 number[]、Array<number>，而元组则是数量固定，类型可以不同的元素构成的，比如 [1, true, 'guang']。

## 字符串类型的重新构造

### CapitalizeStr

当泛型 T 满足于`${infer F}${infer R}`类型的时候，对 F 进行大小写

```ts
type T105 = 'cpp';
type T106 = CapitalizeStr<T105>; // 'Cpp'
type CapitalizeStr<T extends string> = T extends `${infer F}${infer R}` ? `${Uppercase<F>}${R}` : T;
type T107 = Capitalize<T105>; // Cpp 内置的首字母大小
```

### CamelCase

我们再来实现 dong_dong_dong 到 dongDongDong 的变换。

```ts
type CamelCase<Str extends string> = Str extends `${infer Left}_${infer Right}${infer Rest}`
  ? `${Left}${Uppercase<Right>}${CamelCase<Rest>}`
  : Str;
type T108 = CamelCase<'dong_dong_dong'>;
```

> 还是有点难度的哈 有递归和 extends 以及 infer
