(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[139],{"oF/G":function(n,e,r){"use strict";r.r(e);var o=r("q1tI"),s=r.n(o),t=r("dEAq"),i=r("H1Ra"),c=s.a.memo((n=>{n.demos;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"markdown"},s.a.createElement("p",null,"\u9762\u8bd5\u5b98\u95ee\u4f60\uff0c\u5982\u4f55\u624d\u80fd\u8bbe\u8ba1\u51fa\u50cf ",s.a.createElement("strong",null,"Axios")," \u8fd9\u6837\u725b\u76ae\u7684\u8bf7\u6c42\u548c\u54cd\u5e94\u62e6\u622a\u5668? \u80fd\u4e0d\u80fd\u7b80\u5355\u624b\u5199\u5176\u4e2d\u7684\u539f\u7406"),s.a.createElement(i["a"],{code:"// \u9002\u914d\u5668\nvar dispatch = (config) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('cpp', config);\n    }, 1000);\n  });\n};\nfunction request(config) {\n  var promise;\n  var interceptor = {\n    request: [\n      (config) => {\n        console.log(config, 'request config');\n        return config;\n      },\n      (err) => {\n        console.log(err);\n      },\n    ],\n    response: [\n      (res) => {\n        console.log(res, 'response res');\n        return res;\n      },\n      (err) => {\n        console.log(err);\n      },\n    ],\n  };\n  var chain = [dispatch, null];\n  chain.unshift(...interceptor.request);\n  chain = chain.concat(interceptor.response);\n  promise = Promise.resolve(config);\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n  return promise;\n}\nrequest({\n  name: 'CPP REQUEST',\n  url: 'api/get/data',\n}).then((res) => {\n  console.log(res, 'LAST RES');\n});\n// \u6253\u5370\u7ed3\u679c\n// request config\n// response res\n// cpp LAST RES",lang:"js"}),s.a.createElement("p",null,"\u4e4b\u524d\u4e00\u76f4\u4e0d\u662f\u7279\u522b\u80fd\u7406\u89e3\u62e6\u622a\u5668\u7684\u6838\u5fc3\u5b9e\u73b0\u539f\u7406\uff0c\u4e5f\u5c31\u662f\u4e0b\u9762\u8fd9\u51e0\u6bb5\u4ee3\u7801"),s.a.createElement(i["a"],{code:"while (chain.length) {\n  promise = promise.then(chain.shift(), chain.shift());\n}\nreturn promise;",lang:"js"}),s.a.createElement("p",null,"\u7a81\u7136\u67d0\u4e00\u4e2a\u65f6\u523b\u60f3\u901a\u4e86\uff0c\u5176\u5b9e\u8fd9\u4e5f\u662f\u5de7\u5999\u5229\u7528\u4e86 Promise \u6838\u5fc3\u5f02\u6b65\u94fe\u5f0f\u8c03\u7528\uff0c\u628a\u4e0a\u9762\u51e0\u884c\u4ee3\u7801\u6539\u6210\u8fd9\u6837\u4f30\u8ba1\u90fd\u80fd\u7406\u89e3\u4e86"),s.a.createElement(i["a"],{code:"var dispatch = (config) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('cpp', config);\n    }, 1000);\n  });\n};\nfunction request(config) {\n  var promise;\n  var interceptor = {\n    request: [\n      (config) => {\n        console.log(config, 'request config');\n        return config;\n      },\n      (err) => {\n        console.log(err);\n      },\n    ],\n    response: [\n      (res) => {\n        console.log(res, 'response res');\n        return res;\n      },\n      (err) => {\n        console.log(err);\n      },\n    ],\n  };\n  var chain = [dispatch, null];\n  chain.unshift(...interceptor.request);\n  chain = chain.concat(interceptor.response);\n  promise = Promise.resolve(config);\n  // while (chain.length) {\n  //   promise = promise.then(chain.shift(), chain.shift());\n  // }\n  return promise\n    .then(chain.shift(), chain.shift())\n    .then(chain.shift(), chain.shift())\n    .then(chain.shift(), chain.shift());\n}\nrequest({\n  name: 'CPP REQUEST',\n  url: 'XX s s',\n}).then((res) => {\n  console.log(res, 'LAST RES');\n});\n// \u6253\u5370\u7ed3\u679c\n// request config\n// response res\n// cpp LAST RES",lang:"js"})))}));e["default"]=n=>{var e=s.a.useContext(t["context"]),r=e.demos;return s.a.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&t["AnchorLink"].scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),s.a.createElement(c,{demos:r})}}}]);