(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[157],{BcAF:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),l=t("dEAq"),s=t("H1Ra"),o=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u9762\u8bd5\u9898\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u4ee5\u53ca\u51fd\u6570\u5165\u53c3\u7c7b\u578b"},r.a.createElement(l["AnchorLink"],{to:"#\u9762\u8bd5\u9898\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u4ee5\u53ca\u51fd\u6570\u5165\u53c3\u7c7b\u578b","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u9762\u8bd5\u9898\uff1a\u51fd\u6570\u8fd4\u56de\u503c\u7c7b\u578b\u4ee5\u53ca\u51fd\u6570\u5165\u53c3\u7c7b\u578b"),r.a.createElement(s["a"],{code:"function SayName(name: string): string | number {\n  return 'cpp' + name;\n}\n// ReturnType\ntype MockReturnType<T extends (...arg: any) => any> = T extends (...arg: any) => infer R ? R : any;\n\ntype MockParamtersType<T extends (...arg: any) => any> = T extends (...arg: infer P) => any\n  ? P\n  : never;\n\ntype SayNameReturn = MockReturnType<typeof SayName>;\ntype SayNameParam1 = MockParamtersType<typeof SayName>;",lang:"ts"}),r.a.createElement("p",null,"\u9762\u8bd5\u5b98\uff1a \u5f97\u5230\u5982\u4e0b\u6570\u636e\u7c7b\u578b T0 \u4e2d\u7684\u6570\u636e\u7c7b\u578b"),r.a.createElement(s["a"],{code:"type T0 = string[];\ntype GetType<T extends any[]> = T extends (infer P)[] ? P : T;\ntype T0Type = GetType<T0>;\n//  \u7b80\u5316\u770b\u770b\u5462\ntype GetType2<T extends any[]> = string[] extends (infer P)[] ? P : T;",lang:"ts"}),r.a.createElement("p",null,"\u9762\u8bd5\u5b98\uff1a \u5b9e\u73b0\u7c7b\u578b First",r.a.createElement("t",null,"\uff0c\u53d6\u5230\u6570\u7ec4\u7b2c\u4e00\u9879\u7684\u7c7b\u578b\uff1a")),r.a.createElement(s["a"],{code:"type arr1 = ['a', 'b', 'c'];\ntype arr2 = [3, 2, 1];\n\ntype head1 = First<arr1>; // expected to be 'a'\ntype head2 = First<arr2>; // expected to be 3\n\n// \u5b9e\u73b0First\ntype First<T extends any[]> = T extends [infer F, ...infer R] ? F : never;",lang:"ts"}),r.a.createElement("h2",{id:"\u4f7f\u7528\u9650\u5236"},r.a.createElement(l["AnchorLink"],{to:"#\u4f7f\u7528\u9650\u5236","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528\u9650\u5236"),r.a.createElement("p",null,"1.infer \u53ea\u80fd\u5728\u6761\u4ef6\u7c7b\u578b\u7684 extends \u5b50\u53e5\u4e2d\u4f7f\u7528\uff0c 2. ",r.a.createElement("strong",null,"infer")," \u58f0\u660e\u7684\u7c7b\u578b\u53d8\u91cf\u53ea\u5728\u6761\u4ef6\u7c7b\u578b\u7684 ",r.a.createElement("strong",null,"true")," \u5206\u652f\u4e2d\u53ef\u7528"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"\u6761\u4ef6\u7c7b\u578b\u662f extends ? : type GetType<T extends any[]> = T extends (infer P)[] ? P : T; \u5de6\u8fb9\u7684 extends \u662f\u7ea6\u675f\u7c7b\u578b \u53f3\u8fb9\u7684 T extends (infer P)[]? P : T \u624d\u662f\u6761\u4ef6\u7c7b\u578b")),r.a.createElement("p",null,"'infer' declarations are only permitted in the 'extends' clause of a conditional type \u4ec5\u5728\u6761\u4ef6\u7c7b\u578b\u7684",r.a.createElement("strong",null,"extends"),"\u7684",r.a.createElement("strong",null,"\u5b50\u53e5"),"\u4e2d\u5141\u8bb8\u4f7f\u7528",r.a.createElement("strong",null,"infer"),"\u58f0\u660e"),r.a.createElement(s["a"],{code:"type WrongInfer<T extends (infer U)[]> = T[0];\ntype WrongInfer2<T> = (infer U)[] extends T ? T : U;\ntype WrongInfer3<T> = T extends (infer U)[] ? T : U;",lang:"ts"}),r.a.createElement("p",null,"\u8fd4\u56de\u503c\u7c7b\u578b\u63a8\u65ad, \u5f53\u9047\u5230\u51fd\u6570\u91cd\u8f7d\u7684\u573a\u666f\uff0cTypeScript \u5c06\u4f7f\u7528\u6700\u540e\u4e00\u4e2a\u8c03\u7528\u7b7e\u540d\u8fdb\u884c\u7c7b\u578b\u63a8\u65ad\uff1a"),r.a.createElement(s["a"],{code:"declare function foo(x: string): number;\ndeclare function foo(x: number): string;\ndeclare function foo(x: string | number): string | number;\n\ntype InferFoo<T> = T extends (...args: any) => infer R ? R : any;\ntype U2 = InferFoo<typeof foo>;",lang:"ts"}),r.a.createElement("p",null,"\u5229\u7528\u6761\u4ef6\u7c7b\u578b+infer \u63a8\u65ad\u51fa\u5bf9\u8c61\u7c7b\u578b\u4e2d\u952e\u7684\u7c7b\u578b"),r.a.createElement(s["a"],{code:"type User {\n  id: number;\n  name: string\n}\ntype InferUser<T> = T extends {id: infer U, name: infer N} ? [U, N] : T;\ntype GetUser = InferUser<User> // [number string]\n\ntype InferUser2<T> = T extends {id: infer U, name: infer U} ? U : T;\ntype GetUser2 = InferUser2<User>",lang:"ts"}),r.a.createElement("p",null,"\u8054\u5408\u8f6c\u4ea4\u53c9\u7c7b\u578b UnionToIntersection"),r.a.createElement(s["a"],{code:"type Union = { a: string } | { b: number };\n\ntype UnionToIntersection<T> = (T extends any ? (arg: T) => void : never) extends (\n  arg: infer R,\n) => void\n  ? R\n  : never;\n\ntype Intersection = UnionToIntersection<Union>; // {a: string } & {b: number};\nconst Test: Intersection = {\n  a: 'cpp',\n  b: 10,\n};",lang:"ts"}),r.a.createElement("h2",{id:"\u53c2\u8003"},r.a.createElement(l["AnchorLink"],{to:"#\u53c2\u8003","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u8003"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l["Link"],{to:"https://mp.weixin.qq.com/s/3QlkoSWyPrsNj1Sc8DvzJQ"},"\u5b66\u4f1a TS infer\uff0c\u5199\u8d77\u6cdb\u578b\u771f\u9999\uff01")))))}));n["default"]=e=>{var n=r.a.useContext(l["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(o,{demos:t})}}}]);