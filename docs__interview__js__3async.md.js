(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[54],{HMyA:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),l=t.n(a),r=t("dEAq"),c=t("H1Ra"),o=l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"info-asynchronization-\u548c-synchronization"},l.a.createElement(r["AnchorLink"],{to:"#info-asynchronization-\u548c-synchronization","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"info asynchronization \u548c synchronization"),l.a.createElement("p",null,"\u5982\u4f55\u7406\u89e3\u540c\u6b65\u548c\u5f02\u6b65\uff1f"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u4e2a\u4eba\u7406\u89e3\uff1a\u4e00\u4ef6\u4e00\u4ef6\u4e8b\u505a\uff0c\u6309\u7eed\u5c31\u73ed\uff0c\u6bcf\u4ef6\u4e8b\u90fd\u662f\u5148\u540e\u987a\u5e8f\u6765\u505a\uff0c\u8fd9\u4e2a\u53eb\u540c\u6b65\uff0csync,\u800c\u5f02\u6b65\u5219\u662f\uff0c\u505a\u4e00\u4ef6\u4e8b\u7684\u540c\u65f6\u4e3a\u9614\u4ee5\u505a\u5176\u4ed6\u4e8b\uff0c\u6bd4\u5982\u4e2d\u5348\u5403\u996d\uff0c\u6211\u5148\u628a\u7c73\u716e\u4e86\uff0c\u716e\u7c73\u7684\u8fc7\u7a0b\u6211\u9614\u4ee5\u62e9\u83dc\uff0c\u8fd9\u4e2a\u716e\u7c73\u7684\u8fc7\u7a0b\u5c31\u662f\u5f02\u6b65\u7684")),l.a.createElement("p",null,"\u6240\u8c13\u540c\u6b65(synchronization)\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u987a\u5e8f\u6267\u884c\uff0c\u6307\u7684\u662f\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u60c5\uff0c\u53ea\u6709\u76ee\u524d\u6b63\u5728\u6267\u884c\u7684\u4e8b\u60c5\u505a\u5b8c\u4e4b\u540e\uff0c\u624d\u80fd\u505a\u4e0b\u4e00\u4ef6\u4e8b\u60c5\u3002"),l.a.createElement("p",null,"\u540c\u6b65\u64cd\u4f5c\u7684\u4f18\u70b9\u5728\u4e8e\u505a\u4efb\u4f55\u4e8b\u60c5\u90fd\u662f\u4f9d\u6b21\u6267\u884c\uff0c\u4e95\u7136\u6709\u5e8f\uff0c\u4e0d\u4f1a\u5b58\u5728\u5927\u5bb6\u540c\u65f6\u62a2\u4e00\u4e2a\u8d44\u6e90\u7684\u95ee\u9898\u3002\u540c\u6b65\u64cd\u4f5c\u7684\u7f3a\u70b9\u5728\u4e8e\u4f1a\u963b\u585e\u540e\u7eed\u4ee3\u7801\u7684\u6267\u884c\u3002\u5982\u679c\u5f53\u524d\u6267\u884c\u7684\u4efb\u52a1\u9700\u8981\u82b1\u8d39\u5f88\u957f\u7684\u65f6\u95f4\uff0c\u90a3\u4e48\u540e\u9762\u7684\u7a0b\u5e8f\u5c31\u53ea\u80fd\u4e00\u76f4\u7b49\u5f85\u3002\u4ece\u800c\u5f71\u54cd\u6548\u7387\uff0c\u5bf9\u5e94\u5230\u524d\u7aef\u9875\u9762\u7684\u5c55\u793a\u6765\u8bf4\uff0c\u6bd4\u5982 css \u89e3\u6790\u4f1a\u9020\u6210\u9875\u9762\u6e32\u67d3\u7684\u963b\u585e\uff0c\u5927\u5927\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002"),l.a.createElement("p",null,"\u6240\u8c13\u5f02\u6b65(Asynchronization)\uff0c\u6307\u7684\u662f\u5f53\u524d\u4ee3\u7801\u7684\u6267\u884c\u4e0d\u5f71\u54cd\u540e\u9762\u4ee3\u7801\u7684\u6267\u884c\u3002\u5f53\u7a0b\u5e8f\u8fd0\u884c\u5230\u5f02\u6b65\u7684\u4ee3\u7801\u65f6\uff0c\u4f1a\u5c06\u8be5\u5f02\u6b65\u7684\u4ee3\u7801\u4f5c\u4e3a\u4efb\u52a1\u653e\u8fdb\u4efb\u52a1\u961f\u5217\uff0c\u800c\u4e0d\u662f\u63a8\u5165\u4e3b\u7ebf\u7a0b\u7684\u8c03\u7528\u6808\u3002\u7b49\u4e3b\u7ebf\u7a0b\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u518d\u53bb\u4efb\u52a1\u961f\u5217\u91cc\u6267\u884c\u5bf9\u5e94\u7684\u4efb\u52a1\u5373\u53ef\u3002\u56e0\u6b64\uff0c\u5f02\u6b65\u64cd\u4f5c\u7684\u4f18\u70b9\u5c31\u662f\uff1a\u4e0d\u4f1a\u963b\u585e\u540e\u7eed\u4ee3\u7801\u7684\u6267\u884c\u3002"),l.a.createElement("h3",{id:"js-\u4e2d\u5f02\u6b65\u7684\u5e94\u7528\u573a\u666f"},l.a.createElement(r["AnchorLink"],{to:"#js-\u4e2d\u5f02\u6b65\u7684\u5e94\u7528\u573a\u666f","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"js \u4e2d\u5f02\u6b65\u7684\u5e94\u7528\u573a\u666f"),l.a.createElement("p",null,"\u5f00\u7bc7\u8bb2\u4e86\u540c\u6b65\u548c\u5f02\u6b65\u7684\u6982\u5ff5\uff0c\u90a3\u4e48\u5728 JS \u4e2d\u5f02\u6b65\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\u5462\uff1f"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5b9a\u65f6\u4efb\u52a1\uff1asetTimeout\u3001setInterval(\u9762\u8bd5\u9898\u53c8\u6765\u4e86\uff0c\u8fd8\u8981\u624b\u5199 setTimeout/setInterval)"),l.a.createElement("li",null,"\u7f51\u7edc\u8bf7\u6c42\uff1aajax \u8bf7\u6c42\u3001\u52a8\u6001\u521b\u5efa img \u6807\u7b7e\u7684\u52a0\u8f7d"),l.a.createElement("li",null,"\u4e8b\u4ef6\u76d1\u542c\u5668\uff1aaddEventListener (\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f)")),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u5bf9\u4e8e setTimeout\u3001setInterval\u3001addEventListener \u8fd9\u79cd\u5f02\u6b65\u573a\u666f\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u624b\u52a8\u5b9e\u73b0\u5f02\u6b65\uff0c\u76f4\u63a5\u8c03\u7528\u5373\u53ef\u3002\u4f46\u662f\u5bf9\u4e8e ajax \u8bf7\u6c42\u3001node.js \u4e2d\u64cd\u4f5c\u6570\u636e\u5e93\u8fd9\u79cd\u5f02\u6b65\uff0c\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1\u6765\u5b9e\u73b0\u4e86~")),l.a.createElement("h2",{id:"callback-\u56de\u8c03\u51fd\u6570"},l.a.createElement(r["AnchorLink"],{to:"#callback-\u56de\u8c03\u51fd\u6570","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"callback \u56de\u8c03\u51fd\u6570"),l.a.createElement(c["a"],{code:"function ajax({ url, success }) {\n  const config = {\n    url,\n    type: 'GET',\n    async: true,\n    success,\n  };\n  let xhr = new XMLHttpRequest();\n  xhr.open(config.type, config.url, config.async);\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        let res = JSON.parse(xhr.responseText);\n        success(res);\n      }\n    }\n  };\n  xhr.send();\n}\n// \u4f7f\u7528\najax({\n  url: '/api/getData',\n  success: function (res) {\n    console.log(res);\n  },\n});",lang:"js"}),l.a.createElement("p",null,"\u4e3a\u4e86\u89e3\u51b3\u56de\u8c03\u5730\u72f1\u7684\u95ee\u9898\uff0c\u63d0\u51fa\u4e86 Promise\u3001async/await\u3001generator \u7684\u6982\u5ff5\u3002"),l.a.createElement("h2",{id:"promise"},l.a.createElement(r["AnchorLink"],{to:"#promise","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"promise"),l.a.createElement(c["a"],{code:"// \u624b\u5199promise\nclass Promise {\n  constructor(executor) {\n    this.data = undefined;\n    this.cbs = [];\n    const resolve = (val) => {\n      setTimeout(() => {\n        this.data = val;\n        this.cbs.forEach((fn) => fn(val));\n      });\n    };\n    executor(resolve);\n  }\n  then(onfulfilled) {\n    return new Promise((resolve, reject) => {\n      this.cbs.push(() => {\n        const res = onfulfilled(this.data);\n        if (res instanceof Promise) {\n          res.then(resolve);\n        } else {\n          resolve(res);\n        }\n      });\n    });\n  }\n}",lang:"js"}),l.a.createElement("p",null,"Promise \u5305\u542b pending\u3001fulfilled\u3001rejected \u4e09\u79cd\u72b6\u6001"),l.a.createElement("ul",null,l.a.createElement("li",null,"pending \u6307\u521d\u59cb\u7b49\u5f85\u72b6\u6001\uff0c\u521d\u59cb\u5316 promise \u65f6\u7684\u72b6\u6001"),l.a.createElement("li",null,"resolve \u6307\u5df2\u7ecf\u89e3\u51b3\uff0c\u5c06 promise \u72b6\u6001\u8bbe\u7f6e\u4e3a fulfilled"),l.a.createElement("li",null,"reject \u6307\u62d2\u7edd\u5904\u7406\uff0c\u5c06 promise \u72b6\u6001\u8bbe\u7f6e\u4e3a rejected"),l.a.createElement("li",null,"promise \u662f\u751f\u4ea7\u8005\uff0c\u901a\u8fc7 resolve \u4e0e reject \u51fd\u6570\u544a\u4e4b\u7ed3\u679c"),l.a.createElement("li",null,"promise \u975e\u5e38\u9002\u5408\u9700\u8981\u4e00\u5b9a\u6267\u884c\u65f6\u95f4\u7684\u5f02\u6b65\u4efb\u52a1"),l.a.createElement("li",null,"\u72b6\u6001\u4e00\u65e6\u6539\u53d8\u5c06\u4e0d\u53ef\u66f4\u6539")),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u5982\u4f55\u7406\u89e3 Promise \u7684\u5f02\u6b65\u94fe\u5f0f\u8c03\u7528 \u6216\u8005\u8bf4\u600e\u4e48\u5b9e\u73b0\u8fd9\u79cd\u5f02\u6b65\u94fe\u5f0f\u8c03\u7528\u5982\u4f55\u7406\u89e3 Promise.then()\u91cc\u7684\u5f02\u6b65\u5d4c\u5957")),l.a.createElement("p",null,"1.Promise \u4e2d\u7684 then \u662f\u94fe\u5f0f\u8c03\u7528\u6267\u884c\u7684\uff0c\u6240\u4ee5 then \u4e5f\u8981\u8fd4\u56de Promise \u624d\u80fd\u5b9e\u73b0 2.\u72b6\u6001\u53ea\u80fd\u6539\u53d8\u4e00\u6b21\uff0c\u4e14\u4e00\u65e6\u6539\u53d8\u5c31\u4e0d\u53ef\u66f4\u6539\uff0c\u8c03\u7528",l.a.createElement("code",null,"resolve"),"\u65b9\u6cd5\u662f status \u4f1a\u66f4\u6539\u6210",l.a.createElement("code",null,"fulfilled"),",\u8c03\u7528\u5185\u90e8\u7684",l.a.createElement("code",null,"reject"),"\u65b9\u6cd5\u4f1a\u66f4\u6539\u6210",l.a.createElement("code",null,"rejected")," 3.then \u5904\u7406\u72b6\u6001\u7684\u6539\u53d8\uff0cthen(onfulfilled, onrejected)\u4e2d\u7684 onfulfilled \u7528\u6765\u5904\u7406\u6210\u529f\u7684\u72b6\u6001\uff0conrejected \u7528\u6765\u5904\u7406\u9519\u8bef\u7684\u72b6\u6001\uff0c\u800c\u4e24\u4e2a\u65b9\u6cd5\u90fd\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u4f20\u5165\u7684\uff0cthen \u91cc\u7684\u9614\u4ee5\u91c7\u7528 setTimeout \u6765\u6a21\u62df\u5f02\u6b65\u5b8f\u4efb\u52a1 4.\u6784\u9020\u51fd\u6570\u4e2d\u7684 cbs \u4fdd\u5b58 pending \u72b6\u6001\u65f6\u5904\u7406\u51fd\u6570\uff0c\u5f53\u72b6\u6001\u6539\u53d8\u65f6\u5faa\u73af\u8c03\u7528,\u4e14\u5c06 then \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u52a0\u5165 cbs \u6570\u7ec4\u4e2d\uff0c\u7528\u4e8e\u5f02\u6b65\u6267\u884c 5. \u60f3\u4e0d\u901a\uff0cthen \u91cc\u5982\u679c\u8fd4\u56de\u7684\u662f Promise \u7c7b\u578b\uff0c\u9700\u8981\u5982\u4f55\u5904\u7406\u8fd9\u79cd"),l.a.createElement(c["a"],{code:"then((res) => {\n  console.log('res', res);\n  return new Promise((resolve) => {\n    resolve('cpp');\n  });\n});",lang:"js"}),l.a.createElement("p",null,"\u624b\u5199 Promise \u91cc ",l.a.createElement("strong",null,"the"),"n \u57fa\u672c\u90fd\u662f\u8fd9\u79cd\u5199\u6cd5"),l.a.createElement(c["a"],{code:"then(onFulfilled) {\n  return new Promise((resolve) => {\n    this.cbs.push(() => {\n      var val = onFulfilled(this.value)\n      if (val instanceof Promise) {\n        val.then(resolve, reject) // \u8fd9\u53e5\u8bdd\u600e\u4e48\u7406\u89e3\n      } else {\n        resolve(val)\n      }\n    })\n  })\n}",lang:"js"}),l.a.createElement("h2",{id:"generator\u8fd4\u56de\u503c\u4e3a-iterator"},l.a.createElement(r["AnchorLink"],{to:"#generator\u8fd4\u56de\u503c\u4e3a-iterator","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"generator(\u8fd4\u56de\u503c\u4e3a Iterator)"),l.a.createElement("p",null,"Generator \u662f ES6 \u63d0\u51fa\u7684\u4e00\u79cd\u5f02\u6b65\u7f16\u7a0b\u7684\u65b9\u6848\u3002\u56e0\u4e3a\u624b\u52a8\u521b\u5efa\u4e00\u4e2a iterator \u5341\u5206\u9ebb\u70e6\uff0c\u56e0\u6b64 ES6 \u63a8\u51fa\u4e86 generator\uff0c\u7528\u4e8e\u66f4\u65b9\u4fbf\u7684\u521b\u5efa iterator\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c",l.a.createElement("strong",null,"Generator \u662f\u4e00\u4e2a\u8fd4\u56de\u503c\u4e3a iterator \u5bf9\u8c61\u7684\u51fd\u6570"),"\u3002\u5728\u8bb2 Generator \u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b iterator \u662f\u4ec0\u4e48\uff1a"),l.a.createElement("h3",{id:"iterator-\u662f\u4ec0\u4e48"},l.a.createElement(r["AnchorLink"],{to:"#iterator-\u662f\u4ec0\u4e48","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"iterator \u662f\u4ec0\u4e48\uff1f"),l.a.createElement("p",null,"iterator \u4e2d\u6587\u540d\u53eb\u8fed\u4ee3\u5668\u3002\u5b83\u4e3a js \u4e2d\u5404\u79cd\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784(Object\u3001Array\u3001Set\u3001Map)\u63d0\u4f9b\u7edf\u4e00\u7684\u8bbf\u95ee\u673a\u5236\u3002\u4efb\u4f55\u6570\u636e\u7ed3\u6784\u53ea\u8981\u90e8\u7f72\u4e86 Iterator \u63a5\u53e3\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u904d\u5386\u64cd\u4f5c\u3002 \u56e0\u6b64 iterator \u4e5f\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u4e0d\u8fc7\u76f8\u6bd4\u4e8e\u666e\u901a\u5bf9\u8c61\u6765\u8bf4\uff0c\u5b83\u6709\u7740\u4e13\u4e3a\u8fed\u4ee3\u800c\u8bbe\u8ba1\u7684\u63a5\u53e3\u3002"),l.a.createElement("p",null,"iterator \u7684\u4f5c\u7528\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e3a\u5404\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u3001\u7b80\u4fbf\u7684\u8bbf\u95ee\u63a5\u53e3\uff1b"),l.a.createElement("li",null,"\u4f7f\u5f97\u6570\u636e\u7ed3\u6784\u7684\u6210\u5458\u80fd\u591f\u6309\u67d0\u79cd\u6b21\u5e8f\u6392\u5217\uff1b"),l.a.createElement("li",null,"ES6 \u521b\u9020\u4e86\u4e00\u79cd\u65b0\u7684\u904d\u5386\u547d\u4ee4 for\u2026of \u5faa\u73af\uff0cIterator \u63a5\u53e3\u4e3b\u8981\u4f9b for\u2026of \u6d88\u8d39 iterator \u7684\u7ed3\u6784\uff1a \u5b83\u6709",l.a.createElement("strong",null,"next"),"\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5305\u542b value \u548c done \u4e24\u4e2a\u5c5e\u6027\u7684\u5bf9\u8c61\uff08\u6211\u4eec\u5047\u8bbe\u53eb result\uff09\u3002value \u662f\u8fed\u4ee3\u7684\u503c\uff0cdone \u662f\u8868\u660e\u8fed\u4ee3\u662f\u5426\u5b8c\u6210\u7684\u6807\u5fd7\u3002true \u8868\u793a\u8fed\u4ee3\u5b8c\u6210\uff0cfalse \u8868\u793a\u6ca1\u6709\u3002iterator \u5185\u90e8\u6709\u6307\u5411\u8fed\u4ee3\u4f4d\u7f6e\u7684\u6307\u9488\uff0c\u6bcf\u6b21\u8c03\u7528 next\uff0c\u81ea\u52a8\u79fb\u52a8\u6307\u9488\u5e76\u8fd4\u56de\u76f8\u5e94\u7684 result\u3002\u539f\u751f\u5177\u5907 iterator \u63a5\u53e3\u7684\u6570\u636e\u7ed3\u6784\u5982\u4e0b\uff1a"),l.a.createElement("li",null,"Array"),l.a.createElement("li",null,"Map"),l.a.createElement("li",null,"Set"),l.a.createElement("li",null,"String"),l.a.createElement("li",null,"TypedArray"),l.a.createElement("li",null,"\u51fd\u6570\u91cc\u7684 arguments \u5bf9\u8c61"),l.a.createElement("li",null,"NodeList \u5bf9\u8c61")),l.a.createElement("p",null,"\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u90fd\u6709\u4e00\u4e2a",l.a.createElement("strong",null,"Symbol.iterator"),"\u5c5e\u6027\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u6765\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u8fed\u4ee3\u5668\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cSymbol.iterator \u5c5e\u6027\u53ea\u662f\u4e00\u4e2a\u7528\u6765\u521b\u5efa\u8fed\u4ee3\u5668\u7684\u63a5\u53e3\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u56e0\u4e3a\u5b83\u4e0d\u542b\u904d\u5386\u7684\u90e8\u5206\u3002"),l.a.createElement("p",null,"\u9762\u8bd5\u9898\uff0c\u5c01\u88c5\u4e00\u4e2a\u7c7b\u4f7f\u5176\u53ef\u904d\u5386(\u624b\u5199\u8fed\u4ee3\u5668\uff0c\u904d\u5386\u5bf9\u8c61)"),l.a.createElement(c["a"],{code:"var obj = {\n  0: 'chen',\n  1: 'peng',\n};\nclass MakeIterator {\n  constructor(obj) {\n    this.len = Object.keys(obj).length;\n    this.obj = obj;\n    this.index = 0;\n  }\n  [Symbol.iterator]() {\n    return this;\n  }\n  next() {\n    return this.index < this.len\n      ? {\n          value: this.obj[this.index++],\n          done: false,\n        }\n      : {\n          value: undefined,\n          done: true,\n        };\n  }\n}\n// test\nvar test = new MakeIterator(obj);\nfor (let i of test) {\n  console.log(i, 'III');\n}\n// chen III\n// peng III",lang:"js"}),l.a.createElement("p",null,"for ... of \u7684\u5faa\u73af\u5185\u90e8\u5b9e\u73b0\u673a\u5236\u5176\u5b9e\u5c31\u662f",l.a.createElement("strong",null,"iterator"),"\uff0c\u5b83\u9996\u5148\u8c03\u7528\u88ab\u904d\u5386\u96c6\u5408\u5bf9\u8c61\u7684 ",l.a.createElement("strong",null,"Symbol.iterator")," \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u8fed\u4ee3\u5668\u5bf9\u8c61\u662f\u53ef\u4ee5\u62e5\u6709 ",l.a.createElement("strong",null,".next()")," \u65b9\u6cd5\u7684\u4efb\u4f55\u5bf9\u8c61\uff0c\u7136\u540e\uff0c\u5728 for ... of \u7684\u6bcf\u6b21\u5faa\u73af\u4e2d\uff0c\u90fd\u5c06\u8c03\u7528\u8be5\u8fed\u4ee3\u5668\u5bf9\u8c61\u4e0a\u7684 .next \u65b9\u6cd5\u3002\u7136\u540e\u4f7f\u7528 for i of \u6253\u5370\u51fa\u6765\u7684 i \u4e5f\u5c31\u662f\u8c03\u7528.next \u65b9\u6cd5\u540e\u5f97\u5230\u7684\u5bf9\u8c61\u4e0a\u7684 value \u5c5e\u6027\u3002"),l.a.createElement(c["a"],{code:"var arr = [1, 2, 3, 4];\nvar iter = arr[Symbol.iterator]();\niter.next(); // { value: 'a', done: false }\niter.next(); // { value: 'b', done: false }\niter.next(); // { value: 'c', done: false }\niter.next(); // { value: undefined, done: true }",lang:"js"}),l.a.createElement("p",null,"\u9762\u8bd5\u5b98\uff1a\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a",l.a.createElement("strong",null,"Iterator"),"\u6765\u904d\u5386\u5bf9\u8c61\u5982\u4e0b\u5bf9\u8c61"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u4e5f\u9614\u4ee5\u8bf4\u624b\u5199\u4e00\u4e2a Generator \u751f\u6210\u5668\u51fd\u6570")),l.a.createElement(c["a"],{code:"var test = {\n  a: 'hello',\n  b: 'Fronted end',\n};\n// or\nfunction* customGenerator() {\n  yield 'hello';\n  yield 'Fronted end';\n}\nvar canT = customGenerator();\ncanT.next();\ncanT.next();\n\nfunction customIterator(obj) {\n  let len = Object.keys(obj).length;\n  let i = 0;\n  return {\n    next: function () {\n      return i >= len\n        ? {\n            value: undefined,\n            done: true,\n          }\n        : {\n            value: Object.values(obj)[i++],\n            done: false,\n          };\n    },\n  };\n}\nvar ite = customIterator(test);\nite.next();",lang:"js"}),l.a.createElement("h3",{id:"generator-\u751f\u6210\u5668"},l.a.createElement(r["AnchorLink"],{to:"#generator-\u751f\u6210\u5668","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"Generator \u751f\u6210\u5668"),l.a.createElement("p",null,"\u770b\u4e2a\u4f8b\u5b50"),l.a.createElement(c["a"],{code:"function* Generator() {\n  yield 1;\n  yield 2;\n  yield 3;\n}\n// generators\u53ef\u4ee5\u50cf\u6b63\u5e38\u51fd\u6570\u4e00\u6837\u88ab\u8c03\u7528\uff0c\u4e0d\u540c\u7684\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a iterator\nlet iterator = Generator();\niterator.next();\niterator.next();\niterator.next();",lang:"js"}),l.a.createElement("p",null,"Generator \u51fd\u6570\u662f ES6 \u63d0\u4f9b\u7684\u4e00\u79cd",l.a.createElement("strong",null,"\u5f02\u6b65\u7f16\u7a0b"),"\u89e3\u51b3\u65b9\u6848\u3002\u5f62\u5f0f\u4e0a\uff0cGenerator \u51fd\u6570\u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u4f46\u662f\u6709\u4e24\u4e2a\u7279\u5f81:"),l.a.createElement("ul",null,l.a.createElement("li",null,"function \u5173\u952e\u5b57\u4e0e\u51fd\u6570\u540d\u4e4b\u95f4\u6709\u4e00\u4e2a",l.a.createElement("strong",null,"\u661f\u53f7")),l.a.createElement("li",null,"\u51fd\u6570\u4f53\u5185\u90e8\u4f7f\u7528",l.a.createElement("strong",null,"yield"),"\u8bed\u53e5\uff0c\u5b9a\u4e49\u4e0d\u540c\u7684\u5185\u90e8\u72b6\u6001")),l.a.createElement("p",null,"generator \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a",l.a.createElement("strong",null,"iterator")),l.a.createElement("h3",{id:"yield-\u548c-return-\u7684\u533a\u522b"},l.a.createElement(r["AnchorLink"],{to:"#yield-\u548c-return-\u7684\u533a\u522b","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"yield \u548c return \u7684\u533a\u522b\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u90fd\u80fd\u8fd4\u56de\u7d27\u8ddf\u5728\u8bed\u53e5\u540e\u9762\u7684\u90a3\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c"),l.a.createElement("li",null,"yield \u76f8\u6bd4\u4e8e return \u6765\u8bf4\uff0c\u66f4\u50cf\u662f\u4e00\u4e2a\u65ad\u70b9\u3002\u9047\u5230 yield\uff0c\u51fd\u6570\u6682\u505c\u6267\u884c\uff0c\u4e0b\u4e00\u6b21\u518d\u4ece\u8be5\u4f4d\u7f6e\u7ee7\u7eed\u5411\u540e\u6267\u884c\uff0c\u800c return \u8bed\u53e5\u4e0d\u5177\u5907\u4f4d\u7f6e\u8bb0\u5fc6\u7684\u529f\u80fd\u3002 -\u4e00\u4e2a\u51fd\u6570\u91cc\u9762\uff0c\u53ea\u80fd\u6267\u884c\u4e00\u4e2a return \u8bed\u53e5\uff0c\u4f46\u662f\u53ef\u4ee5\u6267\u884c\u591a\u6b21 yield \u8868\u8fbe\u5f0f\u3002"),l.a.createElement("li",null,"\u6b63\u5e38\u51fd\u6570\u53ea\u80fd\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u56e0\u4e3a\u53ea\u80fd\u6267\u884c\u4e00\u6b21 return\uff1bGenerator \u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u4e00\u7cfb\u5217\u7684\u503c\uff0c\u56e0\u4e3a\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a yield")),l.a.createElement("h3",{id:"\u4f7f\u7528-generator-\u7684\u5176\u4f59\u6ce8\u610f\u4e8b\u9879"},l.a.createElement(r["AnchorLink"],{to:"#\u4f7f\u7528-generator-\u7684\u5176\u4f59\u6ce8\u610f\u4e8b\u9879","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528 Generator \u7684\u5176\u4f59\u6ce8\u610f\u4e8b\u9879\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cyield \u4e0d\u80fd\u8de8\u51fd\u6570\u3002\u5e76\u4e14 yield \u9700\u8981\u548c*\u914d\u5957\u4f7f\u7528\uff0c\u522b\u5904\u4f7f\u7528\u65e0\u6548")),l.a.createElement(c["a"],{code:"function* createIterator(items) {\n  items.forEach(function (item) {\n    // \u8bed\u6cd5\u9519\u8bef\n    yield item + 1;\n  });\n}",lang:"js"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u7bad\u5934\u51fd\u6570\u4e0d\u80fd\u7528\u505a generator")),l.a.createElement(c["a"],{code:"var test = *(item) => { // throw error Uncaught SyntaxError: Unexpected token '*'\n  yield 'cpp'\n}\nvar tt = test()\ntt.next()",lang:"js"}),l.a.createElement("h3",{id:"\u597d\u5904"},l.a.createElement(r["AnchorLink"],{to:"#\u597d\u5904","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u597d\u5904"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u56e0\u4e3a Generator \u53ef\u4ee5\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u591a\u6b21\u8fd4\u56de\uff0c\u6240\u4ee5\u5b83\u770b\u4e0a\u53bb\u5c31\u50cf\u4e00\u4e2a\u53ef\u4ee5\u8bb0\u4f4f\u6267\u884c\u72b6\u6001\u7684\u51fd\u6570\uff0c\u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u5199\u4e00\u4e2a generator \u5c31\u53ef\u4ee5\u5b9e\u73b0\u9700\u8981\u7528\u9762\u5411\u5bf9\u8c61\u624d\u80fd\u5b9e\u73b0\u7684\u529f\u80fd\u3002"),l.a.createElement("li",null,"Generator \u8fd8\u6709\u53e6\u4e00\u4e2a\u5de8\u5927\u7684\u597d\u5904\uff0c\u5c31\u662f\u628a\u5f02\u6b65\u56de\u8c03\u4ee3\u7801\u53d8\u6210\u201c",l.a.createElement("strong",null,"\u540c\u6b65"),"\u201d\u4ee3\u7801\u3002\u8fd9\u4e2a\u5728 ajax \u8bf7\u6c42\u4e2d\u5f88\u6709\u7528\uff0c\u907f\u514d\u4e86\u56de\u8c03\u5730\u72f1.")),l.a.createElement("p",null,"Generator \u7f3a\u9677\uff1a 1.\u51fd\u6570\u5916\u90e8\u65e0\u6cd5\u6355\u83b7\u5f02\u5e38 2.\u591a\u4e2a yield \u4f1a\u5bfc\u81f4\u8c03\u8bd5\u56f0\u96be"),l.a.createElement("h2",{id:"asyncawait"},l.a.createElement(r["AnchorLink"],{to:"#asyncawait","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"async/await"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"async/await \u7684\u76ee\u7684\u4e3a\u4e86\u7b80\u5316\u4f7f\u7528\u57fa\u4e8e promise \u7684 API \u65f6\u6240\u9700\u7684\u8bed\u6cd5\u3002async/await \u7684\u884c\u4e3a\u5c31\u597d\u50cf\u642d\u914d\u4f7f\u7528\u4e86\u751f\u6210\u5668 generator \u548c promise\u3002")),l.a.createElement("p",null,"async/await \u662f",l.a.createElement("strong",null,"ES7"),"\u63d0\u51fa\u7684\u5173\u4e8e\u5f02\u6b65\u7684\u7ec8\u6781\u89e3\u51b3\u65b9\u6848\u3002"),l.a.createElement("h3",{id:"asyncawait-\u662f-generator-\u8bed\u6cd5\u7cd6"},l.a.createElement(r["AnchorLink"],{to:"#asyncawait-\u662f-generator-\u8bed\u6cd5\u7cd6","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"async/await \u662f Generator \u8bed\u6cd5\u7cd6"),l.a.createElement("p",null,"\u603b\u7ed3\u4e0b\u6765\uff0casync \u51fd\u6570\u5bf9 Generator \u51fd\u6570\u7684\u6539\u8fdb\uff0c\u4e3b\u8981\u4f53\u73b0\u5728\u4ee5\u4e0b\u4e09\u70b9:"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5185\u7f6e\u6267\u884c\u5668\uff1aGenerator \u51fd\u6570\u7684\u6267\u884c\u5fc5\u987b\u9760\u6267\u884c\u5668\uff0c\u56e0\u4e3a\u4e0d\u80fd\u4e00\u6b21\u6027\u6267\u884c\u5b8c\u6210\uff0c\u6240\u4ee5\u4e4b\u540e\u624d\u6709\u4e86\u5f00\u6e90\u7684 co \u51fd\u6570\u5e93\u3002\u4f46\u662f\uff0casync \u51fd\u6570\u548c\u6b63\u5e38\u7684\u51fd\u6570\u4e00\u6837\u6267\u884c\uff0c\u4e5f\u4e0d\u7528 co \u51fd\u6570\u5e93\uff0c\u4e5f\u4e0d\u7528\u4f7f\u7528 next \u65b9\u6cd5\uff0c\u800c async \u51fd\u6570\u81ea\u5e26\u6267\u884c\u5668\uff0c\u4f1a\u81ea\u52a8\u6267\u884c\u3002\u9002\u7528\u6027\u66f4\u597d\uff1aco \u51fd\u6570\u5e93\u6709\u6761\u4ef6\u7ea6\u675f\uff0cyield \u547d\u4ee4\u540e\u9762\u53ea\u80fd\u662f Thunk \u51fd\u6570\u6216 Promise \u5bf9\u8c61\uff0c\u4f46\u662f async \u51fd\u6570\u7684 await \u5173\u952e\u8bcd\u540e\u9762\uff0c\u53ef\u4ee5\u4e0d\u53d7\u7ea6\u675f\u3002"),l.a.createElement("li",null,"\u53ef\u8bfb\u6027\u66f4\u597d\uff1aasync \u548c await\uff0c\u6bd4\u8d77\u4f7f\u7528 ",l.a.createElement("strong",null,"*\u53f7\u548c yield"),"\uff0c\u8bed\u4e49\u66f4\u6e05\u6670\u660e\u4e86\u3002")),l.a.createElement("h3",{id:"\u5173\u4e8e-asyncawait-\u662f-promise-\u7684\u8bed\u6cd5\u7cd6"},l.a.createElement(r["AnchorLink"],{to:"#\u5173\u4e8e-asyncawait-\u662f-promise-\u7684\u8bed\u6cd5\u7cd6","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u5173\u4e8e async/await \u662f Promise \u7684\u8bed\u6cd5\u7cd6\uff1a"),l.a.createElement("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528 async/await \u7684\u8bdd\uff0cPromise \u5c31\u9700\u8981\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\u6765\u4f9d\u6b21\u6267\u884c then \u4e4b\u540e\u7684\u4ee3\u7801"),l.a.createElement(c["a"],{code:"function counter(n) {\n  return new Promise((resolve, reject) => {\n    resolve(n + 1);\n  });\n}\n\nfunction adder(a, b) {\n  return new Promise((resolve, reject) => {\n    resolve(a + b);\n  });\n}\n\nfunction delay(a) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => resolve(a), 1000);\n  });\n}\n// \u94fe\u5f0f\u8c03\u7528\u5199\u6cd5\nfunction callAll() {\n  counter(1)\n    .then((val) => adder(val, 3))\n    .then((val) => delay(val))\n    .then(console.log);\n}\ncallAll(); //5",lang:"js"}),l.a.createElement("p",null,"\u5982\u679c\u4f7f\u7528 async/ await \u8c03\u7528\u5462"),l.a.createElement(c["a"],{code:"async function callAll() {\n  var count = await counter(1);\n  var add = await adder(count + 3);\n  var delay = await delay(add);\n  return delay;\n}\n// callAll() 5",lang:"js"}),l.a.createElement("h3",{id:"\u624b\u5199-asyncawait-\u4f7f\u5176\u5b9e\u73b0\u76f8\u4f3c\u7684\u529f\u80fd"},l.a.createElement(r["AnchorLink"],{to:"#\u624b\u5199-asyncawait-\u4f7f\u5176\u5b9e\u73b0\u76f8\u4f3c\u7684\u529f\u80fd","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u624b\u5199 async/await \u4f7f\u5176\u5b9e\u73b0\u76f8\u4f3c\u7684\u529f\u80fd"),l.a.createElement("h2",{id:"\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb"},l.a.createElement(r["AnchorLink"],{to:"#\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb"),l.a.createElement("p",null,"Last: Promise + async \u7684\u64cd\u4f5c\u6700\u4e3a\u5e38\u89c1\u3002\u56e0\u4e3a Generator \u88ab async \u66ff\u4ee3\u4e86\u5440~"),l.a.createElement("h2",{id:"\u4e00\u4e9b\u53ef\u80fd\u6d89\u53ca\u5230\u7684\u95ee\u9898"},l.a.createElement(r["AnchorLink"],{to:"#\u4e00\u4e9b\u53ef\u80fd\u6d89\u53ca\u5230\u7684\u95ee\u9898","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u4e00\u4e9b\u53ef\u80fd\u6d89\u53ca\u5230\u7684\u95ee\u9898"),l.a.createElement("h3",{id:"\u4e32\u884c\u63a5\u53e3\u4e24\u4e2a\u63a5\u53e3\u5982\u4f55\u4fdd\u8bc1\u7b2c\u4e8c\u4e2a\u63a5\u53e3\u7684\u6b63\u5e38\u53d1\u9001"},l.a.createElement(r["AnchorLink"],{to:"#\u4e32\u884c\u63a5\u53e3\u4e24\u4e2a\u63a5\u53e3\u5982\u4f55\u4fdd\u8bc1\u7b2c\u4e8c\u4e2a\u63a5\u53e3\u7684\u6b63\u5e38\u53d1\u9001","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u4e32\u884c\u63a5\u53e3\u4e24\u4e2a\u63a5\u53e3\uff0c\u5982\u4f55\u4fdd\u8bc1\u7b2c\u4e8c\u4e2a\u63a5\u53e3\u7684\u6b63\u5e38\u53d1\u9001"),l.a.createElement(c["a"],{code:"var p1 = new Promise((resolve, rejece) => {\n  reject('123');\n});\nvar p2 = new Promise((resolve, reject) => {\n  resolve('p2');\n});",lang:"js"}),l.a.createElement("h3",{id:"\u63a5\u53e3\u4ec0\u4e48\u65f6\u5019\u4f1a-canceled"},l.a.createElement(r["AnchorLink"],{to:"#\u63a5\u53e3\u4ec0\u4e48\u65f6\u5019\u4f1a-canceled","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u63a5\u53e3\u4ec0\u4e48\u65f6\u5019\u4f1a canceled"),l.a.createElement("h2",{id:"\u53c2\u8003"},l.a.createElement(r["AnchorLink"],{to:"#\u53c2\u8003","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u8003"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement(r["Link"],{to:"https://mp.weixin.qq.com/s/eHB1eDwEt93FzSmsX4BSzg"},"js \u56db\u79cd\u5f02\u6b65\u89e3\u51b3\u65b9\u6848"))),l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement(r["Link"],{to:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function"},"mdn/async"))),l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement(r["Link"],{to:"https://doc.houdunren.com/js/17%20Promise%E6%A0%B8%E5%BF%83.html#%E8%B5%B7%E6%AD%A5%E6%9E%84%E5%BB%BA"},"\u540e\u76fe\u4eba\u624b\u5199 promise"))))))}));n["default"]=e=>{var n=l.a.useContext(r["context"]),t=n.demos;return l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(o,{demos:t})}}}]);