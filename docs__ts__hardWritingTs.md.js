(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[155],{RTvh:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),s=t("dEAq"),l=t("H1Ra"),i=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u5b9e\u73b0\u7a0d\u5fae\u590d\u6742\u70b9\u7684\u7c7b\u578b\u4f53\u64cd"),r.a.createElement("h3",{id:"chainable-options"},r.a.createElement(s["AnchorLink"],{to:"#chainable-options","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Chainable Options"),r.a.createElement(l["a"],{code:"declare const config: Chainable;\nconst result = config\n  .option('foo', 123)\n  .option('name', 'type-challenges')\n  .option('bar', { value: 'Hello World' })\n  .get();\n// expect the type of result to be:\ninterface Result12 {\n  foo: number;\n  name: string;\n  bar: {\n    value: string;\n  };\n}",lang:"ts"}),r.a.createElement("p",null,"\u5982\u679c\u7528 js \u5b9e\u73b0"),r.a.createElement(l["a"],{code:"class Chain {\n  constructor(previous = {}) {\n    this.obj = { ...previous };\n  }\n  option(k, v) {\n    return new Chain({\n      ...this.obj,\n      [k]: v,\n    });\n  }\n  get() {\n    return this.obj;\n  }\n}\nvar conf = new Chain();",lang:"js"}),r.a.createElement("p",null,"answer"),r.a.createElement(l["a"],{code:"type Chainable<T extends Record<string, any> = {}> = {\n  option: <K extends string, V extends unknown>(\n    key: K,\n    value: V,\n  ) => Chainable<\n    T & {\n      [P in K]: V;\n    }\n  >;\n  get: () => T;\n};",lang:"ts"}),r.a.createElement("h3",{id:"promiseall"},r.a.createElement(s["AnchorLink"],{to:"#promiseall","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"PromiseAll"),r.a.createElement(l["a"],{code:"const promiseAllTest1 = PromiseAll([1, 2, 3] as const); // Promise<readonly [1, 2, 3]>\nconst promiseAllTest2 = PromiseAll([1, 2, Promise.resolve(3)] as const); // Promise<readonly [1, 2, number]>\nconst promiseAllTest3 = PromiseAll([1, 2, Promise.resolve(3)]); // Promise<(number | Promise<number>)[]>\n\ndeclare function PromiseAll<T>(values: T): Promise<{\n  [P in keyof T]: T[P] extends Promise<infer U> ? U : T[P];\n}>;",lang:"ts"}),r.a.createElement("h3",{id:"istuple"},r.a.createElement(s["AnchorLink"],{to:"#istuple","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"isTuple"),r.a.createElement("p",null,"\u5143\u7ec4\u7c7b\u578b\u8ddf\u6570\u7ec4\u7c7b\u578b\u7684\u533a\u522b"),r.a.createElement(l["a"],{code:"type Up = [1, 2, 3];\ntype Up1 = Up['length'];\n// type Up1 = 3\ntype Up2 = number[]['length'];\n// type Up2 = number",lang:"ts"}),r.a.createElement("p",null,"\u5143\u7ec4\u7c7b\u578b\u4e5f\u662f\u6570\u7ec4\u7c7b\u578b\uff0c\u4f46\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u53ea\u8bfb\u7684\uff0c\u5e76\u4e14 length \u662f\u6570\u5b57\u5b57\u9762\u91cf\uff0c\u800c\u6570\u7ec4\u7684 length \u662f number\u3002"),r.a.createElement(l["a"],{code:"type NotEqual<A, B> = (<T>() => T extends A ? 1 : 2) extends <T>() => T extends B ? 1 : 2\n  ? false\n  : true;\ntype IsTuple<T> = T extends readonly [...params: infer L] ? NotEqual<L['length'], number> : false;\ntype Up3 = IsTuple<Up>;\n// type Up3 = true\ntype Up4 = IsTuple<number[]>;\n// type Up4 = false",lang:"ts"}),r.a.createElement("h3",{id:"uniontointersectionhard"},r.a.createElement(s["AnchorLink"],{to:"#uniontointersectionhard","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"UnionToIntersection(Hard)"),r.a.createElement("p",null,"\u8054\u5408\u7c7b\u578b\u8f6c\u4ea4\u53c9\u7c7b\u578b"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"\u6bd4\u5982 A \u548c B \u7684\u4ea4\u53c9\u7c7b\u578b A & B \u5c31\u662f\u8054\u5408\u7c7b\u578b A | B \u7684\u5b50\u7c7b\u578b\uff0c\u56e0\u4e3a\u66f4\u5177\u4f53")),r.a.createElement("p",null,"\u51fd\u6570\u53c2\u6570\u7684\u9006\u53d8\u6027\u8d28\u4e00\u822c\u5c31\u8054\u5408\u7c7b\u578b\u8f6c\u4ea4\u53c9\u7c7b\u578b\u4f1a\u7528"),r.a.createElement(l["a"],{code:"type Up5 = { name: 'cpp' } | { age: 30 };\n// expected\ntype Up6 = { name: 'cpp' } & { age: 30 };\n// const up6: Up6 = {\n//   name: 'cpp',\n//   age: 30,\n// }\ntype UnionToIntersection<T> = (T extends T ? (x: T) => unknown : never) extends (\n  x: infer R,\n) => unknown\n  ? R\n  : never;\ntype Up7 = UnionToIntersection<Up5>;\n// type Up7 = {\n//     name: 'cpp';\n// } & {\n//     age: 30;\n// }",lang:"ts"}),r.a.createElement("h3",{id:"getoptional"},r.a.createElement(s["AnchorLink"],{to:"#getoptional","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"GetOptional"),r.a.createElement("p",null,"\u5982\u4f55\u63d0\u53d6\u7d22\u5f15\u7c7b\u578b\u4e2d\u7684\u53ef\u9009\u7d22\u5f15\u5462\uff1f"),r.a.createElement(l["a"],{code:"type Up8 = {\n  name: string;\n  age?: number;\n};\ntype GetOptional<T extends Record<string, any>> = {\n  [P in keyof T as {} extends Pick<T, P> ? P : never]: T[P];\n};\ntype Up9 = GetOptional<Up8>;\n// type Up9 = {\n//     age?: number | undefined;\n// }",lang:"ts"}),r.a.createElement("p",null,"\u91cd\u70b9\u662f\u8fd9\u53e5\u63d0\u53d6\u503c\u53ef\u80fd\u4e3a ",r.a.createElement("strong",null,"undefined")," \u7684\u5c5e\u6027",r.a.createElement("code",null,"{","}"," extends Pick<T, P> ? P : never")," \u5982\u679c\u63d0\u53d6\u975e\u53ef\u9009\u7d22\u5f15\u5462"),r.a.createElement(l["a"],{code:"type GetNotOptional<T extends Record<string, any>> = {\n  [P in keyof T as {} extends Pick<T, P> ? never : P]: T[P];\n};\ntype Up10 = GetNotOptional<Up8>;\n// type Up10 = {\n//     name: string;\n// }",lang:"ts"}),r.a.createElement("h3",{id:"partialbykeys"},r.a.createElement(s["AnchorLink"],{to:"#partialbykeys","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"PartialByKeys"),r.a.createElement("p",null,"\u5b9e\u73b0 PartialByKeys<T, K>\uff0c\u4f7f K \u5339\u914d\u7684 Key \u53d8\u6210\u53ef\u9009\u7684\u5b9a\u4e49\uff0c\u5982\u679c\u4e0d\u4f20 K \u6548\u679c\u4e0e Partial",r.a.createElement("t",null," \u4e00\u6837\uff1a")),r.a.createElement(l["a"],{code:"interface User {\n  name: string;\n  age: number;\n  address: string;\n}\n\ntype UserPartialName = PartialByKeys<User, 'name'>; // { name?:string; age:number; address:string }\n\ntype Merge<T> = {\n  [P in keyof T]: T[P];\n};\ntype PartialByKeys<T extends Record<PropertyKey, any>, K extends PropertyKey = keyof T> = Merge<\n  Partial<T> & Omit<T, K>\n>;",lang:"ts"}),r.a.createElement("h3",{id:"requiredbykeys"},r.a.createElement(s["AnchorLink"],{to:"#requiredbykeys","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"RequiredByKeys"),r.a.createElement("p",null,"\u5b9e\u73b0 RequiredByKeys<T, K>\uff0c\u4f7f K \u5339\u914d\u7684 Key \u53d8\u6210\u5fc5\u9009\u7684\u5b9a\u4e49\uff0c\u5982\u679c\u4e0d\u4f20 K \u6548\u679c\u4e0e Required",r.a.createElement("t",null," \u4e00\u6837\uff1a")),r.a.createElement(l["a"],{code:"interface User12 {\n  name?: string\n  age?: number\n  address?: string\n}\n\ntype UserRequiredName = RequiredByKeys<User12, 'name'> // { name: string; age?: number; address?: string }\n\n// type UserRequiredName = {\n//     name: string;\n//     age?: number | undefined;\n//     address?: string | undefined;\n// }\n\ntype RequiredByKeys<T extends Record<PropertyKey, any>, K extends keyof T> = Merge<\nT & Required<Pick<T, K>\n>",lang:"ts"}),r.a.createElement("h3",{id:"removeindexsignature"},r.a.createElement(s["AnchorLink"],{to:"#removeindexsignature","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"RemoveIndexSignature"),r.a.createElement("p",null,"\u5982\u679c\u60f3\u5220\u9664\u7d22\u5f15\u7c7b\u578b\u4e2d\u7684",r.a.createElement("strong",null,"\u53ef\u7d22\u5f15\u7b7e\u540d"),"\u5462\uff1f"),r.a.createElement("p",null,"\u7d22\u5f15\u7b7e\u540d\u4e0d\u80fd\u6784\u9020\u6210\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u540d\u5b57\uff0c\u800c\u5176\u4ed6\u7d22\u5f15\u53ef\u4ee5\u3002"),r.a.createElement(l["a"],{code:"type Up11 = {\n  [key: string]: any; // \u7d22\u5f15\u7b7e\u540d\n  sleep(): void; // \u5177\u4f53\u7d22\u5f15\n};\ntype RemoveIndexSignature<T extends Record<string, any>> = {\n  [K in keyof T as K extends `${infer R}` ? R : never]: T[K];\n};\ntype Up12 = RemoveIndexSignature<Up11>;\n\n// type Up12 = {\n//     sleep: () => void;\n// }",lang:"ts"}),r.a.createElement("h3",{id:"classpublicprops"},r.a.createElement(s["AnchorLink"],{to:"#classpublicprops","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"ClassPublicProps"),r.a.createElement("p",null,"keyof \u63d0\u53d6\u51fa public \u5c5e\u6027\u7684\u5c5e\u6027\u540d"),r.a.createElement(l["a"],{code:"class Dong {\n  public name: string;\n  protected age: number;\n  private hobbies: string[];\n\n  constructor() {\n    this.name = 'dong';\n    this.age = 20;\n    this.hobbies = ['sleep', 'eat'];\n  }\n}\ntype PublicKeys = keyof Dong;\ntype ClassPublicProps<T extends Record<string, any>> = {\n  [P in keyof T]: T[P];\n};\ntype Up13 = ClassPublicProps<Dong>;\n// type Up13 = {\n//     name: string;\n// }",lang:"ts"}),r.a.createElement("h3",{id:"parsequerystring"},r.a.createElement(s["AnchorLink"],{to:"#parsequerystring","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"ParseQueryString"),r.a.createElement(l["a"],{code:"",lang:"ts"}),r.a.createElement("h3",{id:"append-argument"},r.a.createElement(s["AnchorLink"],{to:"#append-argument","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Append Argument"),r.a.createElement(l["a"],{code:"type Fn = (a: number, b: string) => number;\n\ntype Up14 = AppendArgument<Fn, boolean>; // type Up14 = (arg_0: number, arg_1: string, arg_2: boolean) => number\ntype Up15 = AppendArgument2<Fn, boolean>; // type Up15 = (args_0: number, args_1: string, args_2: boolean) => number\n// expected be (a: number, b: string, x: boolean) => number\ntype AppendArgument2<F, E> = F extends (...args: infer T) => infer R\n  ? (...args: [...T, E]) => R\n  : F;\ntype AppendArgument<T, E> = T extends (...arg: infer P) => any\n  ? (...arg: [...P, E]) => ReturnType<T>\n  : T;",lang:"ts"}),r.a.createElement("h3",{id:"assign-\u5408\u5e76\u9009\u9879"},r.a.createElement(s["AnchorLink"],{to:"#assign-\u5408\u5e76\u9009\u9879","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Assign \u5408\u5e76\u9009\u9879"),r.a.createElement("p",null,"\u5408\u5e76\u5bf9\u8c61"),r.a.createElement(l["a"],{code:"type Up16 = Assign<{ a: 1; d: 4 }, { a: 2; b: 3 }>;\n// expect { d: 4, a: 2, b: 3}\ntype Assign<T1 extends Record<PropertyKey, any>, T2 extends Record<PropertyKey, any>> = {\n  [K in keyof T1 | keyof T2]: K extends keyof T2 ? T2[K] : K extends keyof T1 ? T1[K] : never;\n};\nconst Test171 = assign({ a: 1, d: 4 }, { a: 2, b: 3 });\n\ndeclare function assign<Obj1 extends Record<string, any>, Obj2 extends Record<string, any>>(\n  obj1: Obj1,\n  obj2: Obj2,\n): Assign<Obj1, Obj2>;",lang:"ts"}),r.a.createElement("h3",{id:"diff"},r.a.createElement(s["AnchorLink"],{to:"#diff","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Diff"),r.a.createElement("p",null,"\u627e\u51fa\u4e24\u4e2a\u5bf9\u8c61\u7684\u4e0d\u540c"),r.a.createElement(l["a"],{code:'type Foo = {\n  name: string;\n  age: string;\n};\ntype Bar = {\n  name: string;\n  age: string;\n  gender: number;\n  say: () => void;\n};\n\ntype Up17 = Diff<Foo, Bar>; // { gender: number }\ntype Up18 = Exclude<keyof Foo, keyof Bar>; // type Up19 = "gender" | "say"\ntype Up19 = Exclude<keyof Bar, keyof Foo>; // type Up19 = "gender" | "say"\n\ntype Diff<A extends Record<PropertyKey, any>, B extends Record<PropertyKey, any>> = {\n  [K in Exclude<keyof A, keyof B> | Exclude<keyof B, keyof A>]: K extends keyof B\n    ? B[K]\n    : K extends keyof A\n    ? A[K]\n    : never;\n};',lang:"ts"}),r.a.createElement("h3",{id:"objectentries"},r.a.createElement(s["AnchorLink"],{to:"#objectentries","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"ObjectEntries"),r.a.createElement("p",null,"\u5b9e\u73b0 TS \u7248\u672c\u7684 ",r.a.createElement("strong",null,"Object.entries"),"\uff1a"),r.a.createElement(l["a"],{code:"interface Model {\n  name: string;\n  age: number;\n  locations: string[] | null;\n}\ntype modelEntries = ObjectEntries<Partial<Model>>;\n// ['name', string] | ['age', number] | ['locations', string[] | null];\ntype ObjectEntries<T extends Record<PropertyKey, any>> = {\n  [K in keyof T]-?: [K, RemoveUndefined<T[K]>];\n}[keyof T];\n\ninterface Model1 {\n  hobby?: string;\n}\ntype Up20 = ObjectEntries<Model1>;\ntype Up21 = number | undefined | string[];\ntype RemoveUndefined<T> = [T] extends [undefined] ? T : Exclude<T, undefined>;\ntype Up22 = RemoveUndefined<Up21>;",lang:"ts"}),r.a.createElement("h3",{id:"tuple-to-nested-object"},r.a.createElement(s["AnchorLink"],{to:"#tuple-to-nested-object","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Tuple to Nested Object"),r.a.createElement("p",null,"\u5b9e\u73b0 TupleToNestedObject<T, P>\uff0c\u5176\u4e2d T \u4ec5\u63a5\u6536\u5b57\u7b26\u4e32\u6570\u7ec4\uff0cP \u662f\u4efb\u610f\u7c7b\u578b\uff0c\u751f\u6210\u4e00\u4e2a\u9012\u5f52\u5bf9\u8c61\u7ed3\u6784\uff0c\u6ee1\u8db3\u5982\u4e0b\u7ed3\u679c\uff1a"),r.a.createElement(l["a"],{code:"type Up41 = [1, 2, 3, 4];\ntype Up42 = Up41['length'];\ntype Up43 = ['hello', 1, 'cpp'];\ntype Up44 = Up43['length'];\ntype a = TupleToNestedObject1<['a'], string>; // {a: string}\ntype b = TupleToNestedObject1<['a', 'b'], number>; // {a: {b: number}}\ntype c = TupleToNestedObject1<[], boolean>; // boolean. if the tuple is empty, just return the U type\n\n// type TupleToNestedObject<\n//   T extends string[],\n//   P extends any,\n//   S = {}> = T extends [...infer A, infer R extends PropertyKey]\n//   ? R extends string\n//     ? { [K in R]: P }\n//     : A extends [] ? {name: 'cpp'} : {name: 'wmh'}\n//   : P;\n\ntype TupleToNestedObject1<\n  T,\n  U,\n  S = U> =\n  T extends []\n    ? S\n    : (T extends [...infer A, infer Last extends PropertyKey]\n      ? TupleToNestedObject1<A, U, {\n          [K in Last]: S\n        }>\n      : never\n    );",lang:"ts"}),r.a.createElement("h3",{id:"\u63a5\u53e3\u7c7b\u578b\u7684\u7ea6\u675f"},r.a.createElement(s["AnchorLink"],{to:"#\u63a5\u53e3\u7c7b\u578b\u7684\u7ea6\u675f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u63a5\u53e3\u7c7b\u578b\u7684\u7ea6\u675f"),r.a.createElement(l["a"],{code:"type UnionToIntersection1<U> = (U extends any ? (arg: U) => any : never) extends (\n  arg: infer I,\n) => void\n  ? I\n  : never;\ntype Up23 = 'a' | 'b' | 'c';\ntype Up24 = 'd' | 'e' | 'f';\ntype Up27 = [string, number, symbol];\ntype Up25 =\n  | {\n      type: 'a';\n      payload: 'd';\n    }\n  | {\n      type: 'b';\n      payload: 'e';\n    }\n  | {\n      type: 'c';\n      payload: 'f';\n    };\n\ntype Up26 = ToAction<Up23>;\ntype Up28 = ToAction2<Up24>;\ntype ToAction<A extends PropertyKey> = {\n  [P in A]: {\n    type: P;\n  };\n}[A];\ntype ToAction2<A extends PropertyKey> = {\n  [P in A]: {\n    payload: P;\n  };\n}[A];\ntype Last1<A extends Record<PropertyKey, any>, B extends string> = A extends { type: infer F }\n  ? {\n      type: F;\n      payload: B[number];\n    }\n  : never;\ntype Up30 = Last1<Up26, Up24>;",lang:"ts"}),r.a.createElement("h3",{id:"bem-style-string"},r.a.createElement(s["AnchorLink"],{to:"#bem-style-string","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"BEM style string"),r.a.createElement(l["a"],{code:"type Up31 = BEM1<'btn', [], ['small', 'medium', 'large']>; // 'btn--small' | 'btn--medium' | 'btn--large'\n\ntype Up34 = BEM2<'btn', [], ['small', 'medium', 'large']>;\n// type Up34 = \"btn--small\" | \"btn--medium\" | \"btn--large\"\n\ntype Up35 = BEM2<'btn', ['cpp'], ['small', 'medium', 'large']>;\n// type Up35 = \"btn__cpp--small\" | \"btn__cpp--medium\" | \"btn__cpp--large\"",lang:"ts"}),r.a.createElement(l["a"],{code:"type BEM1<\n  B extends string,\n  E extends string[],\n  M extends string[],\n> = `${B}__${E[number]}--${M[number]}`;\n\ntype IsNever<T> = T[] extends never[] ? true : false;\ntype SafeUnion<T> = IsNever<T> extends true ? '' : T;\n\ntype BEM2<\n  B extends string,\n  E extends string[],\n  M extends string[],\n> = `${B}${SafeUnion<`__${E[number]}`>}${SafeUnion<`--${M[number]}`>}`;\n\ntype Equal2<A, B = A> = (<T>() => T extends A ? 1 : 2) extends <T>() => T extends B ? 1 : 2\n  ? true\n  : false;\ntype Up32 = Equal2<any, true>;\ntype Up33 = Equal2<unknown, never>; // type Up33 = false",lang:"ts"}),r.a.createElement("h2",{id:"\u53c2\u8003\u6587\u6863"},r.a.createElement(s["AnchorLink"],{to:"#\u53c2\u8003\u6587\u6863","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u8003\u6587\u6863"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s["Link"],{to:"https://mp.weixin.qq.com/s/eV6V92Q2olfFXiPXZY4vbw"},"\u7cbe\u8bfb\u300aMinusOne, PickByType, StartsWith...\u300b")),r.a.createElement("li",null,r.a.createElement(s["Link"],{to:"https://mp.weixin.qq.com/s/11B6kLuz9TxykGU6_Hh8ug"},"\u7cbe\u8bfb\u300aDiff, AnyOf, IsUnion...\u300b")))))}));n["default"]=e=>{var n=r.a.useContext(s["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&s["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(i,{demos:t})}}}]);