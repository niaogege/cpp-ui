(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"9kvl":function(e,n,t){"use strict";var a=t("FfOG");t.d(n,"a",(function(){return a["b"]}));t("bCY9")},OMbM:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),o=t.n(a),r=t("dEAq"),c=t("Zxc8"),l=t("H1Ra"),s=o.a.memo((e=>{var n=e.demos,t=n["hooks-useevent"].component;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"markdown"},o.a.createElement("h2",{id:"demo"},o.a.createElement(r["AnchorLink"],{to:"#demo","aria-hidden":"true",tabIndex:-1},o.a.createElement("span",{className:"icon icon-link"})),"Demo"),o.a.createElement("p",null,"\u4e3b\u8981\u5e94\u7528\u573a\u666f\uff1a \u300c\u5c01\u88c5\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u300d"),o.a.createElement("p",null,"useEvent \u6709\u4fe9\u4e2a\u7279\u6027\uff1a"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("p",null,"\u5728\u7ec4\u4ef6\u591a\u6b21 render \u65f6\u4fdd\u6301\u5f15\u7528\u4e00\u81f4")),o.a.createElement("li",null,o.a.createElement("p",null,"\u51fd\u6570\u5185\u59cb\u7ec8\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684 props \u4e0e state")))),o.a.createElement(c["default"],n["hooks-useevent"].previewerProps,o.a.createElement(t,null)),o.a.createElement("div",{className:"markdown"},o.a.createElement("h2",{id:"code"},o.a.createElement(r["AnchorLink"],{to:"#code","aria-hidden":"true",tabIndex:-1},o.a.createElement("span",{className:"icon icon-link"})),"Code"),o.a.createElement(l["a"],{code:"import React, { useState, FC } from 'react';\nimport useEvent from './useEvent';\n\ninterface DataProp {\n  onClick: () => void;\n  text: string;\n}\nconst SendButton: FC<DataProp> = ({ onClick, text }) => {\n  return <button onClick={onClick}>{text}</button>;\n};\nconst MyApp = () => {\n  const [text, setText] = useState('TEXT');\n  const onClick = useEvent(() => {\n    setText('NEW Text');\n  });\n\n  return <SendButton onClick={onClick} text={text} />;\n};\nexport default MyApp;",lang:"ts"}),o.a.createElement("h2",{id:"source-code"},o.a.createElement(r["AnchorLink"],{to:"#source-code","aria-hidden":"true",tabIndex:-1},o.a.createElement("span",{className:"icon icon-link"})),"Source code"),o.a.createElement(l["a"],{code:"import { useRef, useLayoutEffect, useCallback } from 'react';\n\nconst useEvent = (handler: any) => {\n  const handleRef = useRef();\n  useLayoutEffect(() => {\n    handleRef.current = handler;\n  });\n  return useCallback((...args: []) => {\n    handleRef && (handleRef as any).current(...args);\n  }, []);\n};\nexport default useEvent;",lang:"ts"}))))}));n["default"]=e=>{var n=o.a.useContext(r["context"]),t=n.demos;return o.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),o.a.createElement(s,{demos:t})}}}]);