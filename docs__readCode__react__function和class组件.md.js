(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[143],{VNEr:function(n,e,t){"use strict";t.r(e);var o=t("q1tI"),l=t.n(o),a=t("dEAq"),r=t("H1Ra"),c=l.a.memo((n=>{n.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u5185\u5bb9\u6765\u81ea\u795e\u5149",l.a.createElement(a["Link"],{to:"https://mp.weixin.qq.com/s/T6SvUYdkf1nAaxoYO4wcgg"},"function \u548c class \u7ec4\u4ef6"))),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u4e86\u89e3\u7c7b\u548c\u51fd\u6570\u7ec4\u4ef6\u7684\u5927\u6982\u6d41\u7a0b\u548c\u67b6\u6784\u4ee5\u53ca\u8bbe\u8ba1\u7406\u5ff5")),l.a.createElement("p",null,"jsx \u4e0d\u662f\u76f4\u63a5\u7f16\u8bd1\u6210 vdom \u7684\uff0c\u800c\u662f\u751f\u6210 render function\uff0c\u6267\u884c\u4e4b\u540e\u4ea7\u751f vdom\u3002"),l.a.createElement("p",null,"jsx => render function => vdom"),l.a.createElement("p",null,"\u4e2d\u95f4\u591a\u52a0\u4e86\u4e00\u5c42 render function\uff0c\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u52a8\u6001\u903b\u8f91\u3002\u522b\u5c0f\u770b\u8fd9\u4e00\u5c42 render function\uff0c\u5b83\u6070\u6070\u662f\u5b9e\u73b0\u7ec4\u4ef6\u7684\u539f\u7406\u3002"),l.a.createElement("h2",{id:"\u5b9e\u73b0\u7ec4\u4ef6\u6e32\u67d3"},l.a.createElement(a["AnchorLink"],{to:"#\u5b9e\u73b0\u7ec4\u4ef6\u6e32\u67d3","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u7ec4\u4ef6\u6e32\u67d3"),l.a.createElement("p",null,"\u652f\u6301\u4e86 jsx \u540e\uff0c\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u52a8\u6001\u903b\u8f91\uff0c\u6bd4\u5982\u5faa\u73af\u904d\u5386\u3001\u6bd4\u5982\u4ece\u4e0a\u4e0b\u6587\u4e2d\u53d6\u503c\uff1a"),l.a.createElement(r["a"],{code:"const data = {\n  a1: 'cpp',\n  a2: 'wmh',\n  a3: 'chendapeng',\n};\nconst list = ['cpp', 'wmh'];\nconst jsx = (\n  <ul className=\"list\">\n    {list.map((item) => (\n      <li>{item}</li>\n    ))}\n  </ul>\n);\n\nrender(jsx, document.getElementById('root'));",lang:"js"}),l.a.createElement("p",null,"\u8fd9\u4e2a\u5c01\u88c5\u6210\u51fd\u6570\uff0c\u7136\u540e\u4f20\u5165\u53c2\u6570\u4e0d\u5c31\u662f\u7ec4\u4ef6\u4e48\uff1f\u6211\u4eec\u5728 render \u51fd\u6570\u91cc\u5904\u7406\u4e0b\u51fd\u6570\u7ec4\u4ef6\u7684\u6e32\u67d3\uff1a"),l.a.createElement(r["a"],{code:"// render\u51fd\u6570\u6700\u7ec8\u8fd4\u56de\u771f\u5b9eDOM\nconst render = (vdom, parent = null) => {\n  // \u5982\u679c\u6709\u7236\u8282\u70b9\u8981\u6302\u8f7d\u5230\u7236\u8282\u70b9 \u7ec4\u88c5\u6210\u4e00\u4e2adom\u6811\n  const mount = parent ? (el) => parent.appendChild(el) : (el) => el;\n  // \u5982\u679c\u662f\u6587\u672c\u8282\u70b9 \u5219\u662f\u5148\u521b\u5efa\u6587\u672c\u8282\u70b9\u5728\u76f4\u63a5\u6302\u8f7d\n  if (isTextDom(vdom)) {\n    return mount(document.createTextNode(vdom));\n    // \u5982\u679c\u662f\u5143\u7d20\u7c7b\u578b \u5219\u9700\u8981\u904d\u5386\u548c\u9012\u5f52\u5904\u7406\n  } else if (isElementDom(vdom)) {\n    const dom = mount(document.createElement(vdom.type));\n    for (const child of vdom.children) {\n      render(child, dom);\n    }\n    // \u5143\u7d20\u4e0a\u7684\u5404\u79cd\u5c5e\u6027\u9700\u8981\u8bbe\u7f6e\u4e0b\n    for (const prop in vdom.props) {\n      setAttribute(dom, prop, vdom.props[prop]);\n    }\n    return dom;\n    // \u5982\u679c\u662f\u51fd\u6570\u5f0f\u7ec4\u4ef6\n  } else if (isComponent(vdom)) {\n    const props = Object.assign({}, vdom.props, {\n      children: vdom.children,\n    });\n    const componentVdom = vdom.type(props); // dom \u90fd\u662fli/div/'cpp'\u8fd9\u79cd\uff0c\u7c7b\u51fd\u6570\u4e0d\u4e00\u6837\n    return render(componentVdom, parent);\n  } else {\n    throw new Error(`Invalid VDOM: ${vdom}.`);\n  }\n};",lang:"js"}),l.a.createElement("h2",{id:"\u5b9e\u73b0-class-\u7ec4\u4ef6"},l.a.createElement(a["AnchorLink"],{to:"#\u5b9e\u73b0-class-\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0 class \u7ec4\u4ef6"),l.a.createElement("p",null,"class \u7ec4\u4ef6\u9700\u8981\u58f0\u660e\u4e00\u4e2a\u7c7b\uff0c\u6709 state \u7684\u5c5e\u6027\uff1a"),l.a.createElement(r["a"],{code:"class Component {\n  constructor(props) {\n    this.props = props || {};\n    this.state = null;\n  }\n  setState(nextState) {\n    this.state = nextState;\n  }\n  componentDidMount() {}\n  componentWillUnmount() {}\n  render() {\n    return <></>;\n  }\n}",lang:"js"}),l.a.createElement("p",null,"\u6240\u4ee5\u9700\u8981\u5728 render \u5224\u65ad\u7c7b\u578b\u90a3\u91cc\u518d\u52a0\u4e2a\u903b\u8f91,\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u6e32\u67d3\u524d\u540e\u7684\u751f\u547d\u5468\u671f\u51fd\u6570\uff1a"),l.a.createElement(r["a"],{code:"// render\u51fd\u6570\u6700\u7ec8\u8fd4\u56de\u771f\u5b9eDOM\nconst render = (vdom, parent = null) => {\n  ...\n  // \u5982\u679c\u662f\u51fd\u6570\u5f0f\u7ec4\u4ef6\n  if (isComponent(vdom)) {\n    if (Component.isPrototypeOf(vdom.type)) {\n      const instance = new vdom.type(props)\n\n      instance.componentWillMount() // \u5373\u5c06\u521d\u59cb\u5316\n\n      const componentVdom = instance.render()\n      instance.dom = render(componentVdom, parent)\n\n      instance.componentDidMount()\n\n      return instance.dom\n    } else {\n      const props = Object.assign({}, vdom.props, {\n        children: vdom.children,\n      });\n      const componentVdom = vdom.type(props);// dom \u90fd\u662fli/div/'cpp'\u8fd9\u79cd\uff0c\u7c7b\u51fd\u6570\u4e0d\u4e00\u6837\n      return render(componentVdom, parent);\n    }\n  } else {\n    throw new Error(`Invalid VDOM: ${vdom}.`);\n  }\n};",lang:"js"}),l.a.createElement("p",null,"\u4e0a\u7bc7\u6587\u7ae0\u6211\u4eec\u652f\u6301\u4e86 jsx\uff0c\u5b83\u7f16\u8bd1\u4ea7\u751f render function\uff0c\u6267\u884c\u4e4b\u540e\u53ef\u4ee5\u62ff\u5230 vdom\uff0c\u7136\u540e\u518d\u6e32\u67d3\u3002"),l.a.createElement("p",null,"\u591a\u4e86\u8fd9\u5c42 ",l.a.createElement("strong",null,"render function")," \u4e4b\u540e\uff0c\u5b83\u53ef\u4ee5\u6267\u884c\u5f88\u591a\u52a8\u6001\u903b\u8f91\uff0c\u6bd4\u5982\u6761\u4ef6\u5224\u65ad\u3001\u5faa\u73af\uff0c\u4ece\u4e0a\u4e0b\u6587\u53d6\u503c\u7b49\u3002"),l.a.createElement("p",null,"\u5bf9\u8fd9\u4e9b\u903b\u8f91\u5c01\u88c5\u4e00\u4e0b\u5c31\u662f\u7ec4\u4ef6\u4e86\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5c01\u88c5\u6210\u51fd\u6570\uff0c\u4f20\u5165 props\uff0c\u5c31\u662f\u51fd\u6570\u7ec4\u4ef6"),l.a.createElement("li",null,"\u5c01\u88c5\u6210 class\uff0c\u4f20\u5165 props\uff0c\u8bbe\u7f6e state \u5c5e\u6027\uff0c\u5c31\u662f class \u7ec4\u4ef6")),l.a.createElement("p",null,l.a.createElement("strong",null,"\u7ec4\u4ef6\u672c\u8d28\u4e0a\u662f\u5bf9 vdom \u7684\u52a8\u6001\u6e32\u67d3\u903b\u8f91\u7684\u5c01\u88c5\uff0cclass \u548c function \u662f\u4e24\u79cd\u5c01\u88c5\u5f62\u5f0f")),l.a.createElement("p",null,"\u7ec4\u4ef6\u672c\u8d28\u4e0a\u662f render Function \u6e32\u67d3\u51fd\u6570\u6267\u884c\u65f6\u5bf9\u52a8\u6001\u903b\u8f91\u7684\u5c01\u88c5\uff0c\u7c7b\u7ec4\u4ef6\u548c\u51fd\u6570\u7ec4\u4ef6\u90fd\u662f\u4e24\u79cd\u5c01\u88c5\u5f62\u5f0f"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u5927\u4f6c\u603b\u7ed3\u5c31\u662f\u7cbe\u8f9f")),l.a.createElement("p",null,"\u5b9e\u73b0\u4e86 vdom \u7684\u6e32\u67d3\u4e4b\u540e\uff0c\u652f\u6301\u7ec4\u4ef6\u7684\u4e24\u79cd\u5c01\u88c5\u5f62\u5f0f\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e8b\u60c5\u3002")))}));e["default"]=n=>{var e=l.a.useContext(a["context"]),t=e.demos;return l.a.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),l.a.createElement(c,{demos:t})}}}]);